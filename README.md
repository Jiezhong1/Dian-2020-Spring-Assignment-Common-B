# Dian团队2020年春招能力测试题-公共题B
恭喜你通过了简历筛选，来到了能力测试题部分！

你将有7天的时间完成这一轮的任务，希望你能在这一周内多多尝试，突破自我，学习到更多新知识。

## 任务背景
计算机语言（Computer Language）指用于人与计算机之间通讯的语言。计算机语言是人与计算机之间传递信息的媒介。计算机系统最大特征是指令通过一种语言传达给机器。为了使电子计算机进行各种工作，就需要有一套用以编写计算机程序的数字、字符和语法规划，由这些字符和语法规则组成计算机各种指令（或各种语句），这些就是计算机能接受的语言。

## 涉及知识点
C语言，数据结构。

## 任务概述
这里我们提供了一种计算机语言：Dian语言（见附录）。请按照要求实现Dian语言的解释器。

## 测试说明
+ 编程环境：任意操作系统。
+ 编程语言：C/C++（如使用C++则禁止使用stl）。
+ 推荐IDE：VSCode，DevCpp，CodeBlocks，Visual Studio（你可以使用任何其他开发环境）。

## 注意事项
1. 请使用git阶段性保存代码，每天的阶段性代码使用时间`tag`标记（时间格式如2020-5-10）。
2. 请合理添加代码注释。
3. 请独立完成，你可以自己从网上查阅资料，甚至理解后复制代码，但是你不能让他人帮你完成，有问题可以询问负责的Dian团队成员。
4. 题目难度存在梯度，请尽量完成，我们不仅考察完成度，你的思路，代码都会为你加分。
5. 任务时间：2020年5月9日20:00~2020年5月16日23:59。
6. 答疑方式：加入答疑QQ群735417629。
7. 答辩时间：任务截止时间之后安排，提前做完会安排提前答辩。

## 验收说明
1. 请每天提交阶段性成果，包括源码，可执行文件，其他相关文件，运行说明。
    + 如果使用git，请在[这里](https://git.dian.org.cn/)注册一个用户名为你的姓名小写拼音的账户，建立一个名为Common-B私有仓库，每天阶段性代码使用`git tag`标记。
    + 如果git无法使用，请在[这里](http://git.dian.org.cn:10080/)或[备用链接](http://47.93.84.218:10080/)注册一个用户名为你的姓名的账户，将以时间命名的文件夹上传到用户根目录。
2. 请准备一个PPT进行成果演示，包括你的实现思路，重要运行结果截图。PPT上传到仓库根目录或用户根目录。
3. 请将每天的进度写在git仓库的README文件中。不能使用git的情况下写在用户根目录下的`进度.txt`文件中。格式如下：
```
5月9日：……
5月10日：……
5月11日：……
……
```

## 任务详述
你需要实现一个解释器程序，读入可执行程序同目录下的一个Dian语言程序（code.dian）及输入（input.txt），输出运行结果到同目录下result.txt。详见testcase目录中的测试用例。
1. 实现变量及数组定义功能
    + 1.1. 实现变量或数组的存储（可以使用struct，union定义）
    + 1.2. 实现变量或数组的访问（可以使用hash表进行变量名到变量存储结构体的映射）
    + 1.3. 实现未定义变量或数组使用时自动定义
2. 实现表达式计算
    + 2.1. 实现无变量表达式求值（如2020+5+1）
    + 2.2. 实现有变量表达式求值（如a+b+2020）
    + 2.3. 实现类型自动推导（如1/2推导类型为浮点数，0.5*2推导类型为整数）
3. 实现赋值语句
    + 3.1. 实现单变量赋值（如a=2020;）
    + 3.2. 实现多变量赋值（如a,b,c=2020,5,1）
    + 3.3. 实现动态数据类型（如a=2020; a=0.5;此时a的类型从整数变成浮点数）
4. 实现输入输出功能
    + 4.1. 实现readi，readf，reads函数
    + 4.2. 实现print函数（测试用例io，type）
5. 实现条件控制语句
    + 5.1. 实现一个if，一个elif，一个else的控制语句（测试用例：if1）
    + 5.2. 实现一个if，不定的elif，可选else的控制语句（测试用例：if2）
    + 5.3. 支持if嵌套
6. 实现循环语句
    + 6.1. 实现不省略A,B,C语句的for循环（测试用例for1）
    + 6.2. 实现可以省略A,B,C部分语句的for循环（测试用例for2）
    + 6.3. 实现break到else段（测试用例for3）
    + 6.4. 支持for嵌套
7. 实现函数
    + 7.1. 实现一个参数，一个返回值的函数（测试用例func1）
    + 7.2. 实现不定个参数，不定个返回值的函数（测试用例func2）
    + 7.3. 实现函数递归调用（测试用例func3）
    + 7.4. 支持函数作为参数传递
8. 附加题
    + 其他特性实现：如C风格代码注释，映射类型，数组切片，仅包含一条语句的行可省略语句末分号，以及其他你能想到的实用功能。在实现基础部分后这会是加分项。

